const mysql = require('mysql2');
const connection = mysql.createConnection({...});

const id = req.body.id;
connection.execute(
  'SELECT * FROM users WHERE id = ?',
  [id],
  (err, results) => {
    if (err) throw err;
    res.json(results);
  }
);




const express = require('express');
const csrf = require('csurf');
const cookieParser = require('cookie-parser');

const app = express();
const csrfProtection = csrf({ cookie: true });

app.use(cookieParser());
app.use(csrfProtection);

app.get('/form', (req, res) => {
  res.send(`<form method="POST" action="/process">
              <input type="hidden" name="_csrf" value="${req.csrfToken()}">
              <button type="submit">Submit</button>
            </form>`);
});

app.post('/process', (req, res) => {
  res.send('CSRF Token verified!');
});





